



t2t Research Group                                            L. Toutain
Internet-Draft                                                   M. Gudi
Intended status: Standards Track  Institut MINES TELECOM; IMT Atlantique
Expires: 15 June 2024                                   13 December 2023


        SID Extention to efficiently manipulate YANG Data Models
                    draft-toutain-t2t-sid-extension

Abstract

   blabla

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at https://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on 15 June 2024.

Copyright Notice

   Copyright (c) 2023 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents (https://trustee.ietf.org/
   license-info) in effect on the date of publication of this document.
   Please review these documents carefully, as they describe your rights
   and restrictions with respect to this document.  Code Components
   extracted from this document must include Revised BSD License text as
   described in Section 4.e of the Trust Legal Provisions and are
   provided without warranty as described in the Revised BSD License.








Toutain & Gudi            Expires 15 June 2024                  [Page 1]

Internet-Draft                SID Extention                December 2023


Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  YANG Data model . . . . . . . . . . . . . . . . . . . . . . .   2
   3.  Normative References  . . . . . . . . . . . . . . . . . . . .   4
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .   4

1.  Introduction

   YANG modeling language is very popular for node configuration and
   retrieving the the state of a device.  XML and JSON are also to
   popular way to serialize the data model.  Recently a new
   serialization format has been published, allowing a more compact
   representation of the information.  This new format is based on CBOR
   and the YANG identifier instead of been represented by a unique ASCII
   string, are mapped to an unique integer.

   The mapping between strings and integer is kept in a .sid file
   usually generated by tools such as pyang.

   This document presents some extensions to the sid files, to ease the
   conversion between CBOR and JSON and also to manipulate YANG Data
   Model in a constraint environment.

2.  YANG Data model

   A YANG is a modeling language to structure the information and check
   its conformity.  Each element of a YANG Data Model is identified
   through an unique identifier.  YANG is based on a hierarchical
   approach.  During the serialization phase, data are represented
   either in XML or JSON.  In this part we will use the JSON
   representation.  [RFC7951] indicates how to to form a JSON structure
   conform to a YANG Data Model:

   *  Leaves are represented as JSON objects, the key being the leaf
      name.

   *  Lists are defined through arrays,

   *  Identityref is a string0 containing the identifier in the YANG
      naming hierarchy to an identity,

   *  ...








Toutain & Gudi            Expires 15 June 2024                  [Page 2]

Internet-Draft                SID Extention                December 2023


   The YANG Data Model, in Figure 1, is used to illustrate how data will
   be serialized.  It defines a container representing a physical object
   able to perform several measurements.  The physical object is battery
   powered has a status led able to change color, and a list of attached
   sensors returning a integer value.

   <CODE BEGINS> file "sensor.yang"
   module sensor {
     yang-version 1.1;
     namespace "http://sensorexample.in/sensor-example";
     prefix sen1;

     identity battery-indicator-base-type {
       description
         "a base identity for battery level indicator";
     }

     identity high-level {
       base battery-indicator-base-type;
     }

     identity med-level {
       base battery-indicator-base-type;
     }

     identity low-level {
       base battery-indicator-base-type;
     }

     typedef battery-level {
       type identityref {
         base battery-indicator-base-type;
       }
     }

     container sensorHealth {
       leaf statusLED {
         type enumeration {
           enum green  {value 0;}
           enum yellow {value 1;}
           enum red {value 2;}
         }
       }
       leaf battery {
           type battery-level;
       }
       list sensorReadings {
         key "index";



Toutain & Gudi            Expires 15 June 2024                  [Page 3]

Internet-Draft                SID Extention                December 2023


         leaf index {
           type uint8;
         }
         leaf sensorValue {
           type uint32;
         }

       }
     }
   }
   <CODE ENDS>

             Figure 1: Example of a YANG Data Model for sensors

   The YANG tree regarding this Data Model is given Figure 2

   $ pyang -f tree sensor.yang
   module: sensor
     +--rw sensorHealth
        +--rw statusLED?        enumeration
        +--rw battery?          battery-level
        +--rw sensorReadings* [index]
           +--rw index          uint8
           +--rw sensorValue?   uint32

                 Figure 2: YANG tree associated to the DM.

3.  Normative References

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119,
              DOI 10.17487/RFC2119, March 1997,
              <https://www.rfc-editor.org/info/rfc2119>.

   [RFC7951]  Lhotka, L., "JSON Encoding of Data Modeled with YANG",
              RFC 7951, DOI 10.17487/RFC7951, August 2016,
              <https://www.rfc-editor.org/info/rfc7951>.

Authors' Addresses

   Laurent Toutain
   Institut MINES TELECOM; IMT Atlantique
   2 rue de la Chataigneraie
   CS 17607
   35576 Cesson-Sevigne Cedex
   France
   Email: Laurent.Toutain@imt-atlantique.fr




Toutain & Gudi            Expires 15 June 2024                  [Page 4]

Internet-Draft                SID Extention                December 2023


   Manoj Gudi
   Institut MINES TELECOM; IMT Atlantique
   2 rue de la Chataigneraie
   CS 17607
   35576 Cesson-Sevigne Cedex
   France
   Email: manoj.gudi@imt-atlantique.net












































Toutain & Gudi            Expires 15 June 2024                  [Page 5]
